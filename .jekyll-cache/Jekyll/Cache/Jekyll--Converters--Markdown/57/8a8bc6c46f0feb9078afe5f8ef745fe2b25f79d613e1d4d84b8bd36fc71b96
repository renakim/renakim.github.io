I"›&<p><strong>Raspberry Pi zero W</strong>(ì´í•˜ RPI zero)ë¥¼ ì‚¬ìš©í•´ ë³¼ ê¸°íšŒê°€ ìƒê²¼ë‹¤.</p>

<p>RPI zero ëª¨ë¸ì€ ë¬´ì„ ëœ ì§€ì› ì—¬ë¶€ì— ë”°ë¼ ë‘ íƒ€ì…ì´ ìˆëŠ”ë°, ì œí’ˆëª…ì— Wê°€ ë¶™ì€ ê²ƒì´ ë¬´ì„ ëœ ì§€ì› ëª¨ë¸ì´ë‹¤. ì´ ê¸€ì—ì„œ RPI zero ì´ˆê¸° ì„¤ì •ì„ ì§„í–‰í•˜ë©´ì„œ ì‹¤íŒ¨(?)í•œ ê²½í—˜ì„ ì •ë¦¬í•˜ë ¤ê³  í•œë‹¤.</p>

<p>ì œí’ˆì€ ì´ë ‡ê²Œ ìƒê²¼ë‹¤. (í™•ì¥ í—¤ë” ë¶€ë¶„ì€ ë”°ë¡œ ë‚©ë•œì„ í•´ ì¤˜ì•¼ í–ˆë‹¤.)</p>

<p><img src="/files/rpizerow_board.jpg" alt="Raspberry Pi Zero W" width="70%" /></p>

<h2 id="í™˜ê²½-ì¤€ë¹„">í™˜ê²½ ì¤€ë¹„</h2>

<h3 id="material">Material</h3>

<ul>
  <li>Micro sd card: ìµœì†Œ 4GB ì´ìƒ</li>
  <li>SD card reader</li>
</ul>

<h3 id="í™˜ê²½">í™˜ê²½</h3>

<ul>
  <li>
    <p>Windows 10 64bit</p>
  </li>
  <li>
    <p>Raspbian image
Raspbianì€ ë‘ ë²„ì „ì˜ ì»¤ë„ì„ ë¹„êµ ì‚¬ìš©í•  ì¼ì´ ìˆì–´ì„œ ë‹¤ìŒ ë²„ì „ë“¤ì„ ì‚¬ìš©í–ˆë‹¤.</p>

    <ul>
      <li>2017-11-29-raspbian-stretch-lite</li>
      <li>2018-03-13-raspbian-stretch-lite</li>
    </ul>
  </li>
  <li>
    <p>Raspbian ë²„ì „ ì •ë³´</p>

    <ul>
      <li><a href="http://downloads.raspberrypi.org/raspbian/release_notes.txt" target="\_blank">Rasbian release note</a></li>
    </ul>
  </li>
  <li>
    <p>ì´ì „ ë²„ì „ì˜ Raspbian ë‹¤ìš´ë¡œë“œ</p>
    <ul>
      <li><a href="http://downloads.raspberrypi.org/raspbian/images/" target="\_blank">Raspbian image download</a></li>
      <li><a href="http://ftp.jaist.ac.jp/pub/raspberrypi/raspbian_lite/images/" target="\_blank">Raspbian Lite image download</a></li>
    </ul>
  </li>
</ul>

<h3 id="headless">Headless</h3>

<p>Headless setupì€ ë””ìŠ¤í”Œë ˆì´ ì—†ì´ ì„¤ì •í•˜ëŠ” ë°©ì‹ì„ ë§í•œë‹¤. ë‹¨ì–´ ê²€ìƒ‰ì„ í•´ë³´ë‹ˆ ë³´í†µ IT ë¶„ì•¼ì—ì„œëŠ” ëª¨ë‹ˆí„°ê°€ ì—†ë‹¤ëŠ” ëœ»ìœ¼ë¡œ ì“°ì´ëŠ” ë“¯ í•˜ë‹¤.</p>

<p>Raspberry pi 3 ì˜ ê²½ìš° USBì™€ ê°™ì€ ì¸í„°í˜ì´ìŠ¤ê°€ ì¶©ë¶„í•´ì„œ ì§ì ‘ ëª¨ë‹ˆí„°, í‚¤ë³´ë“œ, ë§ˆìš°ìŠ¤ë¥¼ ì—°ê²°í•´ì„œ ì„¤ì •í•´ë„ ë¬´ë°©í•˜ì§€ë§Œ í•˜ë‚˜í•˜ë‚˜ ì„  ì—°ê²°í•˜ëŠ”ê²Œ êµ‰ì¥íˆ ë²ˆê±°ë¡­ë‹¤.</p>

<p>íŠ¹íˆë‚˜ RPI zero ëª¨ë¸ì€ USB í¬íŠ¸ê°€ micro 5pin 1ê°œ ë¿ì´ê¸° ë•Œë¬¸ì— í¬íŠ¸ë¥¼ í™•ì¥í•  ìˆ˜ ìˆëŠ” í—ˆë¸Œê°€ ì—†ë‹¤ë©´ ëª¨ë‹ˆí„°ë¥¼ í†µí•œ ì„¤ì •ì€ ì–´ë µë‹¤ê³  ë´ì•¼ í•œë‹¤.</p>

<p>ì—¬ëŸ¬ ëª¨ë¡œ headless ì„¤ì •ì´ í›¨ì”¬ ê°„í¸í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.</p>

<hr />

<h2 id="raspberry-pi-zero-w-headless-ì„¤ì •">Raspberry Pi zero W headless ì„¤ì •</h2>

<p>raspberry pi 3ì—ì„œ ì‚¬ìš©í–ˆë˜ ë°©ë²•ì„ ë– ì˜¬ë ¤ ê·¸ëŒ€ë¡œ ì„¤ì •í•˜ë ¤ê³  í•˜ë‹ˆ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë°©ì‹ì´ ë‹¤ë¥´ë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹¬ì•˜ë‹¤.</p>

<p>Raspberry Pi zero WëŠ” compact í•œ ì‚¬ì´ì¦ˆë¡œ ì´ë”ë„· ì»¤ë„¥í„°ê°€ ì—†ê³ , ëŒ€ì‹  ë¬´ì„ ëœ(WiFi)ì„ ì§€ì›í•œë‹¤.</p>

<p>ê·¸ë˜ì„œ ê²€ìƒ‰ì„ í•´ ë³´ë‹ˆ, RPI zero W ì œí’ˆì„ ìœ„í•œ headless ì„¤ì • ë°©ë²•ì´ ì—¬ëŸ¿ ë‚˜ì™”ë‹¤.</p>

<p>ê²€ìƒ‰ ê²°ê³¼ë¥¼ ê°€ì§€ê³  ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •ì„ ì§„í–‰í–ˆë‹¤.</p>

<hr />

<h3 id="micro-sd-cardì—-raspbian-ì„¤ì¹˜-image-write">Micro SD cardì— raspbian ì„¤ì¹˜ (image write)</h3>

<p>Micro SD cardì— raspbianì„ ì„¤ì¹˜í•˜ëŠ” ìƒì„¸ ë°©ë²•ì€ ë‹¤ìŒ ê¸€ì„ ì°¸ì¡°í•˜ì. (ssh ì‚¬ìš© ì„¤ì • ê¹Œì§€)</p>

<p><a href="https://inmile.tistory.com/6?category=793890" target="\_blank">[RaspberryPi3] ë¼ì¦ˆë² ë¦¬íŒŒì´3 - ë¼ì¦ˆë¹„ì•ˆ(Raspbian) OS ì„¤ì¹˜</a></p>

<hr />

<h3 id="ë¬´ì„ ëœ-ì„¤ì •ì„-ìœ„í•œ-wpa_supplicantconf-ì‘ì„±---ì‹¤íŒ¨í•œ-ë‚´ìš©-ì°¸ê³ ">ë¬´ì„ ëœ ì„¤ì •ì„ ìœ„í•œ wpa_supplicant.conf ì‘ì„± - ì‹¤íŒ¨í•œ ë‚´ìš© (ì°¸ê³ )</h3>

<p>wpa_supplicant.conf ë¼ëŠ” ë¹ˆ íŒŒì¼ì„ ë§Œë“¤ê³ , ì•„ë˜ ë‚´ìš©ì„ ì‘ì„±í•œë‹¤.</p>

<p><em><strong>ë™ì‘í•˜ì§€ ì•Šì•˜ë˜ ì„¤ì •íŒŒì¼</strong></em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
country=US
update_config=1

network={
Â  ssid="your_ssid"
Â  psk="your_pw"
  key_mgmt=WPA-PSK
}
</code></pre></div></div>

<p>ì´ íŒŒì¼ ì—­ì‹œ ë¹ˆ ssh íŒŒì¼ê³¼ ê°™ì€ ìœ„ì¹˜(boot íŒŒí‹°ì…˜)ì— ë„£ì–´ì¤€ë‹¤.</p>

<p>ê·¸ë¦¬ê³  sd cardë¥¼ RPI zero Wì— ì‚½ì…í•œ í›„ ì „ì›ì„ ì—°ê²°í•˜ë©´ ëœë‹¤.
ì´ˆê¸° ì„¤ì •ë˜ëŠ” ì‹œê°„ì„ ê°ì•ˆí•´ ì•½ 90~120ì´ˆ ì •ë„ê°€ ì§€ë‚œ í›„ raspberrypi.localë¡œ ssh ì—°ê²°ì„ í•´ë³´ë¼ê³  í•˜ëŠ”ë°â€¦</p>

<p><strong>ì—°ê²°ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤.</strong></p>

<p>í˜¹ì‹œ ë­”ê°€ ì˜ëª» ì„¤ì •í–ˆë‚˜ ì‹¶ì–´ ì´ë¯¸ì§€ë¥¼ ìƒˆë¡œ ì˜¬ë ¤ë³´ê³  ì„¤ì •íŒŒì¼ ë‚´ìš©ì„ ë°”ê¿”ë³´ê³  ì´ê²ƒì €ê²ƒ ë‹¤ í•´ë´¤ì§€ë§Œ ì—¬ì „íˆ ì•ˆ ëœë‹¤.</p>

<p>ë”±íˆ ë³µì¡í•œ ì„¤ì •ì„ í•œ ê²ƒë„ ì•„ë‹Œë° ë­”ê°€ ë¬¸ì œê°€ ìˆë‹¤. ë‹¤ì‹œ ê²€ìƒ‰ì— ë“¤ì–´ê°”ë‹¤.</p>

<p>ì¼ë‹¨ ë¬´ì„ ëœ(wlan)ì„ í†µí•œ haedless ì„¤ì •ì€ í¬ê¸°í•˜ê³ , ì›ì¸ì„ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ í™•ì¥ í—¤ë” ë‚©ë•œ í›„ ë‹¤ìŒ ì‚¬ì§„ê³¼ ê°™ì´ serial ì¼€ì´ë¸”ì„ ì—°ê²°í•´ RPI zeroì— ì ‘ì†í–ˆë‹¤.</p>

<p>serialì„ ì‚¬ìš©í•˜ë ¤ë©´ bootì˜ config.txtíŒŒì¼ì— ì•„ë˜ ì˜µì…˜ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Enable uart
enable_uart=1
</code></pre></div></div>

<p><img src="/files/rpizerow_serial.jpg" alt="Raspberry Pi Zero W - serial ì—°ê²°" width="70%" /></p>

<p>ì ‘ì† í›„ raspi-configìœ¼ë¡œ wifi ì„¤ì •ì„ ì‹œë„í•˜ë‹ˆ ì•„ë˜ì™€ ê°™ì€ ë©”ì‹œì§€ê°€ ì—°ë‹¬ì•„ ë‚˜ì™”ë‹¤. ë¬´ì„ ëœ ì„¤ì • ìª½ì— ë¬¸ì œê°€ ìˆì–´ ë³´ì˜€ë‹¤.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Could not communicate with wpa_supplicant.
There was an error running option N2 Wi-fi.
</code></pre></div></div>

<hr />

<h3 id="ë¬´ì„ ëœ-ì„¤ì •ì„-ìœ„í•œ-wpa_supplicantconf-ì‘ì„±---ì„±ê³µ">ë¬´ì„ ëœ ì„¤ì •ì„ ìœ„í•œ wpa_supplicant.conf ì‘ì„± - ì„±ê³µ!</h3>

<p>ì‹œë¦¬ì–¼ì„ í†µí•´ ë¬´ì„ ëœ ìª½ì— ë¬¸ì œê°€ ìˆëŠ”ê±¸ í™•ì¸í•˜ê³  ê²€ìƒ‰í•˜ë˜ ì¤‘, wpa_supplicant ë””ë²„ê¹…ì— ê´€í•œ ë‚´ìš©ì´ ëˆˆì— ë„ì—ˆë‹¤.</p>

<p>ë‹¤ìŒ ë§í¬ì— ë³´ë©´ wpa_supplicant ëª…ë ¹ì–´ì— ëŒ€í•œ ë‚´ìš©ì´ ìˆë‹¤.</p>

<p><a href="https://www.raspberrypi.org/forums/viewtopic.php?t=191061&amp;start=25" target="\_blank">Raspberrypi forum: Raspbian Stretch: Wifi not starting on boot</a></p>

<p>RPI zeroì— ì‹œë¦¬ì–¼ë¡œ ì ‘ì†í•œ ìƒíƒœì—ì„œ ì•„ë˜ ëª…ë ¹ì„ ìˆ˜í–‰í•´ë³´ë‹ˆ, ì—ëŸ¬ê°€ ì¶œë ¥ë˜ì—ˆë‹¤.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\$ sudo wpa_supplicantÂ -dÂ -B -c/etc/wpa_supplicant/wpa_supplicant.conf -iwlan0
wpa_supplicant v2.4
random: Trying to read entropy from /dev/random
Successfully initialized wpa_supplicant
Initializing interface 'wlan0' conf '/etc/wpa_supplicant/wpa_supplicant.conf' driver 'default' ctrl_interface 'N/A' bridge 'N/A'
Configuration file '/etc/wpa_supplicant/wpa_supplicant.conf' -&gt; '/etc/wpa_supplicant/wpa_supplicant.conf'
Reading configuration file '/etc/wpa_supplicant/wpa_supplicant.conf'
ctrl_interface='DIR=/var/run/wpa_supplicant GROUP=netdev'
country='US'
update_config=1
Line 4: unknown global field 'Â '.
Line 4: Invalid configuration line 'Â '.
Line 6: unknown network field 'Â  ssid'.
Line 7: unknown network field 'Â  psk'.
Line 9: failed to parse network block.
Failed to read or parse configuration '/etc/wpa_supplicant/wpa_supplicant.conf'.
Failed to add interface wlan0
: Cancelling scan request
: Cancelling authentication timeout
</code></pre></div></div>

<p>ì²«ë²ˆì§¸ ë¬¸ì œëŠ” ssidì™€ passwordë¥¼ ì„¤ì •í•˜ëŠ” network ì„¤ì • ë¶€ë¶„ì—ì„œ ê³µë°±(space)ì„ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ê²ƒì´ì—ˆë‹¤.</p>

<p>ê³µë°±ì„ íƒ­ìœ¼ë¡œ ìˆ˜ì •í•œ í›„ ë‹¤ì‹œ ëª…ë ¹ ìˆ˜í–‰.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wpa_supplicant v2.4
random: Trying to read entropy from /dev/random
Successfully initialized wpa_supplicant
Initializing interface 'wlan0' conf '/etc/wpa_supplicant/wpa_supplicant.conf' driver 'default' ctrl_interface 'N/A' bridge 'N/A'
Configuration file '/etc/wpa_supplicant/wpa_supplicant.conf' -&gt; '/etc/wpa_supplicant/wpa_supplicant.conf'
Reading configuration file '/etc/wpa_supplicant/wpa_supplicant.conf'
ctrl_interface='DIR=/var/run/wpa_supplicant'
Line 2: unknown global field 'GROUP=netdev'.
Line 2: Invalid configuration line 'GROUP=netdev'.
...
</code></pre></div></div>

<p>ë‘ë²ˆì§¸ ë¬¸ì œëŠ” â€˜GROUP=netdevâ€™ ì˜µì…˜ì„ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ê²ƒì´ì—ˆë‹¤.</p>

<p>wpa_supplicant.conf íŒŒì¼ ê´€ë ¨í•´ì„œ ì°¸ê³ í–ˆë˜ í¬ìŠ¤íŒ… ë‚ ì§œê°€ 2017ë…„ ì´ˆ ë²„ì „ì´ì—ˆëŠ”ë°, Raspbian ë²„ì „ì´ ì˜¬ë¼ê°€ë©´ì„œ ë­”ê°€ ë°”ë€ ê²ƒì¼ê¹Œ?</p>

<p>ì´ ë¶€ë¶„ì€ í™•ì¸í•´ë´ì•¼ í•  ê²ƒ ê°™ë‹¤.</p>

<p>ì•„ë¬´íŠ¼, í•´ë‹¹ ì˜µì…˜ì„ ì œê±° í›„ ë‹¤ì‹œ ëŒë ¤ë³´ë‹ˆ ì˜ ëœë‹¤.</p>

<p>ë””ë²„ê¹…ì„ í†µí•´ ë§Œë“  ìµœì¢… ì„¤ì • íŒŒì¼ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<h4 id="wpa_supplicantconf">wpa_supplicant.conf</h4>

<p>(network ë¶€ë¶„ì€ tabìœ¼ë¡œ ì‘ì„±ë˜ì–´ì•¼ í•¨. ì—ë””í„° í”„ë¡œê·¸ë¨ìœ¼ë¡œ ì‘ì„± ì‹œ ì£¼ì˜)</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ctrl_interface=DIR=/var/run/wpa_supplicant
country=US
update_config=1
network={
    ssid="your_ssid"
    psk="your_pw"
    key_mgmt=WPA-PSK
}
</code></pre></div></div>

<p>ìœ„ ì„¤ì •íŒŒì¼ë¡œ ì ìš©í•´ë³´ë‹ˆ ì˜ ëœë‹¤.</p>

<h2 id="ìš”ì•½">ìš”ì•½</h2>

<p>ê³¼ì •ì„ ì“°ë‹¤ë³´ë‹ˆ ê¸¸ì–´ì¡Œì§€ë§Œ, ìš”ì•½í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<ul>
  <li>ì¤€ë¹„í•œ micro sd cardì— raspbian image write</li>
  <li>boot ë“œë¼ì´ë¸Œì— ë¹ˆ ssh íŒŒì¼ ë° <a href="#wpa_supplicant.conf">wpa_supplicant.conf</a> ì‘ì„±í•˜ì—¬ ì¶”ê°€</li>
  <li>sd cardë¥¼ RPI zeroì— ì‚½ì…í•˜ê³  ì „ì› ì—°ê²° í›„ 1~2ë¶„ ëŒ€ê¸°</li>
  <li>raspberrypi.localë¡œ ssh ì ‘ì† (ì´ˆê¸° ê³„ì •: pi / raspberry)
    <ul>
      <li>ì ‘ì† ì „ì— ë¨¼ì € pingì„ í•´ë´ë„ ì¢‹ë‹¤. ($ ping raspberrypi.local)</li>
    </ul>
  </li>
</ul>

<p>í˜¹ì‹œë¼ë„ ë‹¤ë¥¸ raspberry piê°€ ì—°ê²°ë˜ì–´ìˆìœ¼ë©´ ê·¸ìª½ìœ¼ë¡œ ì—°ê²°ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë‹¨ë… ì—°ê²°í•˜ëŠ”ê²Œ ì¢‹ë‹¤.</p>

<p>ì´ˆê¸° ì„¤ì •ì€ ì´ê±¸ë¡œ ëì´ë‹¤.</p>

<p>ë‹¤ìŒ ê¸€ì—ì„œ WIZ850IO ëª¨ë“ˆì„ ì´ìš©í•´ ì´ë”ë„·ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•  ì˜ˆì •ì´ë‹¤.</p>

<hr />
:ET